# Svelte + TS + Vite

Этот шаблон поможет вам начать разработку с использованием Svelte и TypeScript в Vite.

## Рекомендуемая среда разработки

[VS Code](https://code.visualstudio.com/) + [Svelte](https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode).

## Нужен официальный фреймворк Svelte?

Обратите внимание на [SvelteKit](https://github.com/sveltejs/kit#readme), который также использует Vite. Он предлагает серверлесс-подход, легко адаптируется к различным платформам, а также поддерживает TypeScript, SCSS, Less, mdsvex, GraphQL, PostCSS, Tailwind CSS и многое другое.

## Технические особенности

**Почему использовать этот шаблон вместо SvelteKit?**

- SvelteKit предоставляет собственное решение для маршрутизации, которое может не подойти некоторым пользователям.
- Это прежде всего фреймворк, использующий Vite под капотом, а не просто приложение на Vite.
  
Этот шаблон содержит минимально необходимый набор инструментов для старта с Vite + TypeScript + Svelte. Он предлагает хороший опыт разработки с поддержкой HMR и Intellisense, а также подходит для новичков.

Если в будущем вам понадобятся расширенные возможности SvelteKit, структура шаблона позволяет легко мигрировать.

**Почему используется global.d.ts а не  compilerOptions.types в jsconfig.json или tsconfig.json?**

Установка  compilerOptions.types исключает все типы, которые явно не указаны в конфигурации. Использование ссылок сохраняет стандартное поведение TypeScript, принимая информацию о типах из всего проекта, и при этом добавляет поддержку svelte и vite/client.

**Почему включен .vscode/extensions.json?**

Вместо того чтобы просто рекомендовать расширения в README, этот файл позволяет VS Code автоматически предложить установить необходимые плагины при открытии проекта.

**Почему в шаблоне TypeScript включен allowJs?**

Хотя allowJs: false предотвратил бы использование .jsайлов в проекте, это не мешает использовать JavaScript-синтаксис в .svelte файлах. Более того, это заставило бы включить checkJs: false, что ухудшило бы проверку типов. В ряде случаев может быть полезна смешанная кодовая база.

**Почему HMR не сохраняет локальное состояние компонента?**

HMR с сохранением состояния компонента может вести себя неожиданно, поэтому он отключен по умолчанию в svelte-hmr и @sveltejs/vite-plugin-svelte d. Подробнее об этом можно прочитать [here](https://github.com/rixo/svelte-hmr#svelte-hmr).

Если состояние компонента важно, рассмотрите возможность создания внешнего хранилища, которое не будет сбрасываться при обновлении.
```ts
// store.ts
// An extremely simple external store
import { writable } from 'svelte/store'
export default writable(0)
```
